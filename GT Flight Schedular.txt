@router.get('/products')
def get_all_products(db=Depends(get_db)):
    products = db.execute('SELECT * FROM Product').fetchall()
    if not products:
        raise HTTPException(status_code=404, detail="No products found")
    return {
        "products": [dict(product) for product in products]
    }
how can i return this as per your js and also in js you will show wverything when user enters promo code ok 
